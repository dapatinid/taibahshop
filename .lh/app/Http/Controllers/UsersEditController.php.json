{
    "sourceFile": "app/Http/Controllers/UsersEditController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 11,
            "patches": [
                {
                    "date": 1733934755484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1733935021883,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,7 +25,7 @@\n             'cities' => $cities,\n             'districts' => $districts,\n             'villages' => $villages,\n         ];\n-        return view('printorder', $data);;\n+        return view('users-edit-page', $data);;\n     }\n }\n"
                },
                {
                    "date": 1733935236284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,20 +12,20 @@\n use Vermaysha\\Wilayah\\Models\\Village;\n \n class UsersEditController extends Controller\n {\n-    public function prinprview($id)\n+    public function mount($id)\n     {\n-        $states = Province::all();\n-        $cities = City::all();\n-        $districts = District::all();\n-        $villages = Village::all();\n+        $prov = Province::all();\n+        $kab = City::where('code', $this->state)->vlaue('name');\n+        $kec = District::all();\n+        $desa = Village::all();\n         $data = [\n             'date' => date('d/m/Y'),\n-            'states' => $states,\n-            'cities' => $cities,\n-            'districts' => $districts,\n-            'villages' => $villages,\n+            'prov' => $prov,\n+            'kab' => $kab,\n+            'kec' => $kec,\n+            'desa' => $desa,\n         ];\n         return view('users-edit-page', $data);;\n     }\n }\n"
                },
                {
                    "date": 1733935348714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n use App\\Models\\Address;\n use App\\Models\\Order;\n use App\\Models\\OrderItem;\n use App\\Models\\Payment;\n+use App\\Models\\User;\n use Vermaysha\\Wilayah\\Models\\City;\n use Vermaysha\\Wilayah\\Models\\District;\n use Vermaysha\\Wilayah\\Models\\Province;\n use Vermaysha\\Wilayah\\Models\\Village;\n@@ -14,12 +15,13 @@\n class UsersEditController extends Controller\n {\n     public function mount($id)\n     {\n-        $prov = Province::all();\n-        $kab = City::where('code', $this->state)->vlaue('name');\n-        $kec = District::all();\n-        $desa = Village::all();\n+        $users = User::all();\n+        $prov = Province::where('code', $users->where('id', $id)->value('state'))->vlaue('name');\n+        $kab = City::where('code', $users->where('id', $id)->value('city'))->vlaue('name');\n+        $kec = District::where('code', $users->where('id', $id)->value('district'))->vlaue('name');\n+        $desa = Village::where('code', $users->where('id', $id)->value('village'))->vlaue('name');\n         $data = [\n             'date' => date('d/m/Y'),\n             'prov' => $prov,\n             'kab' => $kab,\n"
                },
                {
                    "date": 1733935459416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,33 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use App\\Models\\Address;\n+use App\\Models\\Order;\n+use App\\Models\\OrderItem;\n+use App\\Models\\Payment;\n+use App\\Models\\User;\n+use Vermaysha\\Wilayah\\Models\\City;\n+use Vermaysha\\Wilayah\\Models\\District;\n+use Vermaysha\\Wilayah\\Models\\Province;\n+use Vermaysha\\Wilayah\\Models\\Village;\n+\n+class UsersEditController extends Controller\n+{\n+    public function mount($id)\n+    {\n+        $users = User::all();\n+        $prov = Province::where('code', $users->where('id', $id)->value('state'))->value('name');\n+        $kab = City::where('code', $users->where('id', $id)->value('city'))->value('name');\n+        $kec = District::where('code', $users->where('id', $id)->value('district'))->value('name');\n+        $desa = Village::where('code', $users->where('id', $id)->value('village'))->value('name');\n+        $data = [\n+            'date' => date('d/m/Y'),\n+            'prov' => $prov,\n+            'kab' => $kab,\n+            'kec' => $kec,\n+            'desa' => $desa,\n+        ];\n+        return view('users-edit-page', $data);;\n+    }\n+}\n"
                },
                {
                    "date": 1733935476578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,7 +27,7 @@\n             'kab' => $kab,\n             'kec' => $kec,\n             'desa' => $desa,\n         ];\n-        return view('users-edit-page', $data);;\n+        return view('livewire.users-edit-page', $data);;\n     }\n }\n"
                },
                {
                    "date": 1733935677945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,14 +15,23 @@\n class UsersEditController extends Controller\n {\n     public function mount($id)\n     {\n+        $states = Province::all();\n+        $cities = City::all()->where('province_code', $this->state)->sortByDesc('name');\n+        $districts = District::all()->where('city_code', $this->city)->sortBy('name');\n+        $villages = Village::all()->where('district_code', $this->district)->sortBy('name');\n+\n         $users = User::all();\n         $prov = Province::where('code', $users->where('id', $id)->value('state'))->value('name');\n         $kab = City::where('code', $users->where('id', $id)->value('city'))->value('name');\n         $kec = District::where('code', $users->where('id', $id)->value('district'))->value('name');\n         $desa = Village::where('code', $users->where('id', $id)->value('village'))->value('name');\n         $data = [\n+            'states' => $states,\n+            'cities' => $cities,\n+            'districts' => $districts,\n+            'villages' => $villages,\n             'date' => date('d/m/Y'),\n             'prov' => $prov,\n             'kab' => $kab,\n             'kec' => $kec,\n"
                },
                {
                    "date": 1733935708071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,23 +15,14 @@\n class UsersEditController extends Controller\n {\n     public function mount($id)\n     {\n-        $states = Province::all();\n-        $cities = City::all()->where('province_code', $this->state)->sortByDesc('name');\n-        $districts = District::all()->where('city_code', $this->city)->sortBy('name');\n-        $villages = Village::all()->where('district_code', $this->district)->sortBy('name');\n-\n         $users = User::all();\n         $prov = Province::where('code', $users->where('id', $id)->value('state'))->value('name');\n         $kab = City::where('code', $users->where('id', $id)->value('city'))->value('name');\n         $kec = District::where('code', $users->where('id', $id)->value('district'))->value('name');\n         $desa = Village::where('code', $users->where('id', $id)->value('village'))->value('name');\n         $data = [\n-            'states' => $states,\n-            'cities' => $cities,\n-            'districts' => $districts,\n-            'villages' => $villages,\n             'date' => date('d/m/Y'),\n             'prov' => $prov,\n             'kab' => $kab,\n             'kec' => $kec,\n"
                },
                {
                    "date": 1733936060656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,33 +1,110 @@\n <?php\n \n namespace App\\Http\\Controllers;\n \n-use App\\Models\\Address;\n-use App\\Models\\Order;\n-use App\\Models\\OrderItem;\n-use App\\Models\\Payment;\n+use Livewire\\Component;\n use App\\Models\\User;\n+use Jantinnerezo\\LivewireAlert\\LivewireAlert;\n+use Livewire\\Attributes\\Url;\n use Vermaysha\\Wilayah\\Models\\City;\n use Vermaysha\\Wilayah\\Models\\District;\n use Vermaysha\\Wilayah\\Models\\Province;\n use Vermaysha\\Wilayah\\Models\\Village;\n \n class UsersEditController extends Controller\n {\n+    use LivewireAlert;\n+\n+    #[Url()]\n+    public $name;\n+    #[Url()]\n+    public $phone;\n+    #[Url()]\n+    public $email;\n+    public $password = '';\n+\n+    public $state;\n+    public $city;\n+    public $district;\n+    public $village;\n+    public $street_address;\n+    public $zip_code;\n+\n+    // update user\n+    public function userEdit()\n+    {\n+        $this->validate([\n+            'name' => 'required|max:255',\n+            'phone' => 'required|max:255',\n+            'state' => 'required|max:255',\n+            'city' => 'required|max:255',\n+            'district' => 'required|max:255',\n+            'village' => 'required|max:255',\n+            'street_address' => 'required|max:255',\n+        ]);\n+\n+        $data = User::where('id', auth()->user()->id);\n+        if ($this->password != '') {\n+            $validate = [\n+                'name' => $this->name,\n+                'phone' => $this->phone,\n+                'password' => Hash::make($this->password),\n+                'state' => $this->state,\n+                'city' => $this->city,\n+                'district' => $this->district,\n+                'village' => $this->village,\n+                'street_address' => $this->street_address,\n+                'zip_code' => $this->zip_code,\n+            ];\n+        } else {\n+            $validate = [\n+                'name' => $this->name,\n+                'phone' => $this->phone,\n+                'state' => $this->state,\n+                'city' => $this->city,\n+                'district' => $this->district,\n+                'village' => $this->village,\n+                'street_address' => $this->street_address,\n+                'zip_code' => $this->zip_code,\n+            ];\n+        }\n+        $data->update($validate);\n+\n+        $this->alert('success', 'Data Updated!', [\n+            'position' => 'top',\n+            'timer' => 3000,\n+            'toast' => true,\n+        ]);\n+    }\n+\n     public function mount($id)\n     {\n         $users = User::all();\n         $prov = Province::where('code', $users->where('id', $id)->value('state'))->value('name');\n         $kab = City::where('code', $users->where('id', $id)->value('city'))->value('name');\n         $kec = District::where('code', $users->where('id', $id)->value('district'))->value('name');\n         $desa = Village::where('code', $users->where('id', $id)->value('village'))->value('name');\n+        $states = Province::all();\n+        $cities = City::all()->where('province_code', $this->state)->sortByDesc('name');\n+        $districts = District::all()->where('city_code', $this->city)->sortBy('name');\n+        $villages = Village::all()->where('district_code', $this->district)->sortBy('name');\n+\n+        $users = User::all();\n+\n         $data = [\n             'date' => date('d/m/Y'),\n             'prov' => $prov,\n             'kab' => $kab,\n             'kec' => $kec,\n             'desa' => $desa,\n+            'states' => $states,\n+            'cities' => $cities,\n+            'districts' => $districts,\n+            'villages' => $villages,\n+            'users' => $users,\n         ];\n         return view('livewire.users-edit-page', $data);;\n     }\n+\n+    \n }\n"
                },
                {
                    "date": 1733936138958,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,72 +12,10 @@\n use Vermaysha\\Wilayah\\Models\\Village;\n \n class UsersEditController extends Controller\n {\n-    use LivewireAlert;\n+    \n \n-    #[Url()]\n-    public $name;\n-    #[Url()]\n-    public $phone;\n-    #[Url()]\n-    public $email;\n-    public $password = '';\n-\n-    public $state;\n-    public $city;\n-    public $district;\n-    public $village;\n-    public $street_address;\n-    public $zip_code;\n-\n-    // update user\n-    public function userEdit()\n-    {\n-        $this->validate([\n-            'name' => 'required|max:255',\n-            'phone' => 'required|max:255',\n-            'state' => 'required|max:255',\n-            'city' => 'required|max:255',\n-            'district' => 'required|max:255',\n-            'village' => 'required|max:255',\n-            'street_address' => 'required|max:255',\n-        ]);\n-\n-        $data = User::where('id', auth()->user()->id);\n-        if ($this->password != '') {\n-            $validate = [\n-                'name' => $this->name,\n-                'phone' => $this->phone,\n-                'password' => Hash::make($this->password),\n-                'state' => $this->state,\n-                'city' => $this->city,\n-                'district' => $this->district,\n-                'village' => $this->village,\n-                'street_address' => $this->street_address,\n-                'zip_code' => $this->zip_code,\n-            ];\n-        } else {\n-            $validate = [\n-                'name' => $this->name,\n-                'phone' => $this->phone,\n-                'state' => $this->state,\n-                'city' => $this->city,\n-                'district' => $this->district,\n-                'village' => $this->village,\n-                'street_address' => $this->street_address,\n-                'zip_code' => $this->zip_code,\n-            ];\n-        }\n-        $data->update($validate);\n-\n-        $this->alert('success', 'Data Updated!', [\n-            'position' => 'top',\n-            'timer' => 3000,\n-            'toast' => true,\n-        ]);\n-    }\n-\n     public function mount($id)\n     {\n         $users = User::all();\n         $prov = Province::where('code', $users->where('id', $id)->value('state'))->value('name');\n"
                },
                {
                    "date": 1733936178037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,26 +21,19 @@\n         $prov = Province::where('code', $users->where('id', $id)->value('state'))->value('name');\n         $kab = City::where('code', $users->where('id', $id)->value('city'))->value('name');\n         $kec = District::where('code', $users->where('id', $id)->value('district'))->value('name');\n         $desa = Village::where('code', $users->where('id', $id)->value('village'))->value('name');\n-        $states = Province::all();\n-        $cities = City::all()->where('province_code', $this->state)->sortByDesc('name');\n-        $districts = District::all()->where('city_code', $this->city)->sortBy('name');\n-        $villages = Village::all()->where('district_code', $this->district)->sortBy('name');\n+        \n \n-        $users = User::all();\n+        \n \n         $data = [\n             'date' => date('d/m/Y'),\n             'prov' => $prov,\n             'kab' => $kab,\n             'kec' => $kec,\n             'desa' => $desa,\n-            'states' => $states,\n-            'cities' => $cities,\n-            'districts' => $districts,\n-            'villages' => $villages,\n-            'users' => $users,\n+            \n         ];\n         return view('livewire.users-edit-page', $data);;\n     }\n }\n"
                },
                {
                    "date": 1733936223660,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,11 +22,8 @@\n         $kab = City::where('code', $users->where('id', $id)->value('city'))->value('name');\n         $kec = District::where('code', $users->where('id', $id)->value('district'))->value('name');\n         $desa = Village::where('code', $users->where('id', $id)->value('village'))->value('name');\n \n-\n-\n-\n         $data = [\n             'date' => date('d/m/Y'),\n             'prov' => $prov,\n             'kab' => $kab,\n"
                }
            ],
            "date": 1733934755484,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\Address;\nuse App\\Models\\Order;\nuse App\\Models\\OrderItem;\nuse App\\Models\\Payment;\nuse Vermaysha\\Wilayah\\Models\\City;\nuse Vermaysha\\Wilayah\\Models\\District;\nuse Vermaysha\\Wilayah\\Models\\Province;\nuse Vermaysha\\Wilayah\\Models\\Village;\n\nclass UsersEditController extends Controller\n{\n    public function prinprview($id)\n    {\n        $states = Province::all();\n        $cities = City::all();\n        $districts = District::all();\n        $villages = Village::all();\n        $data = [\n            'date' => date('d/m/Y'),\n            'states' => $states,\n            'cities' => $cities,\n            'districts' => $districts,\n            'villages' => $villages,\n        ];\n        return view('printorder', $data);;\n    }\n}\n"
        }
    ]
}